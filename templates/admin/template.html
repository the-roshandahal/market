{% load static %}
{% include 'admin/nav.html' %}
<div class="main-panel">
    <div class="col-lg-12 grid-margin stretch-card">
        <div class="card">
          <div class="card-body">
            <h4 class="card-title">Templates</h4>
            
            </p>
            <div class="table-responsive">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th> Template Name</th>
                  <th> Category</th>
                  <th> Sub Category</th>
                  <th> Child Category</th>
                  
                  <th> Price </th>
                  <th> Featured</th>
                  <th>Template Link</th>
                  <th>Is Taxable</th>
                  <th>Action</th>
                  
                </tr>
              </thead>
              <tbody>
                
                {% for template in template %}
                <tr>
                  <td>{{template.template_name}} </td>
                  <td>{{template.category}} </td>
                  {% if template.sub_category %}
                  <td>{{template.sub_category}} </td>
                  {% else %}
                  <td>--</td>
                  {% endif %}
                  {% if template.child_category %}
                  <td>{{template.child_category}} </td>
                  {% else %}
                  <td>--</td>
                  {% endif %}
                  <td>
                    Rs.{{template.template_price}}
                  </td>
                  <td>
                    {% if template.is_featured == True %}
                    <label class="badge badge-gradient-success">Yes</label>
                    {% else %}
                    <label class="badge badge-gradient-danger">No</label>
                    {% endif %}
                  </td>



                  {% if template.template_url %}
                  <td><a href="{{template.template_url}}" target="_blank">Live Preview</a></td>
                  {% else %}
                  <td>--</td>
                  {% endif %}


                  <td>
                    {% if template.is_taxable == 'yes' %}
                    <label class="badge badge-gradient-success">Yes</label>
                    {% else %}
                    <label class="badge badge-gradient-danger">No</label>
                    {% endif %}
                  </td>
                  <td>


                    <div class="nav-item nav-profile dropdown">
                      <a class="nav-link dropdown-toggle" id="profileDropdown" href="#" data-bs-toggle="dropdown"
                          aria-expanded="false">
                          <i class="mdi mdi-table-edit"></i>
                      </a>
                      <div class="dropdown-menu navbar-dropdown" aria-labelledby="profileDropdown">
                          <a class="dropdown-item" href="{% url 'edit_template' id=template.id %}">
                              <i class="mdi mdi-table-edit me-2 text-success"></i> Edit Details </a>
                          <div class="dropdown-divider"></div>
                          <a class="dropdown-item" href="{{template.template_image.url}}" target="_blank">
                              <i class="mdi mdi-logout me-2 text-primary"></i> View Image</a>
                          <div class="dropdown-divider"></div>
                          <a class="dropdown-item" href="{% url 'change_status' id=template.id %}">
                              <i class="mdi mdi-logout me-2 text-primary"></i> Change F. Status</a>
                          <div class="dropdown-divider"></div>
                          <a class="dropdown-item" href="{% url 'delete_template' id=template.id %}">
                              <i class="mdi mdi-logout me-2 text-primary"></i> Delete</a>
                      </div>
                    </div>
                  </td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
          </div>
        </div>
      </div>
      <span class="nav-link">
        <a href="{% url 'add_template' %}">
        <button class="btn btn-block btn-lg btn-gradient-primary mt-4">+ Add Template</button>
    </a>
    </span>
</div>

{% include 'admin/footer.html' %}s